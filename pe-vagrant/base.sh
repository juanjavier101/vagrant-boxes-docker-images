#!/bin/sh
systemctl stop firewalld
systemctl disable firewalld

echo "192.168.123.10 puppet.localhost puppet.local master
192.168.123.11 node1.localhost node1
192.168.123.12 node2.localhost node2
192.168.123.13 node3.localhost node3" >> /etc/hosts

echo "alias puppet='sudo env \"PATH=\$PATH\" puppet'" >> /home/vagrant/.bashrc
echo "alias facter='sudo env \"PATH=\$PATH\" facter'" >> /home/vagrant/.bashrc
echo "alias octocatalog-diff='sudo env \"PATH=\$PATH\" octocatalog-diff'" >> /home/vagrant/.bashrc

echo "-----BEGIN RSA PRIVATE KEY-----
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
-----END RSA PRIVATE KEY-----" > /home/vagrant/.ssh/id_rsa

chown vagrant:vagrant /home/vagrant/.ssh/id_rsa
chmod 0600 /home/vagrant/.ssh/id_rsa

echo "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDGtMqLN+peIDQ2vOLGFXsYWLrEfELvsvrj0HNBoG76Wh0Vv7rlP+croqY7jY+q8ggNd+ZHP+KAhqffQW72yoD1QgjP3USqDs6ZLyYNduYHF5OhyysGM2HyXagfMv9wIr9lCn/c9tnNkCc22Lm+MN/VQK1OPjbp9H51leDsxAIGgKYFzpGtqCIuUWpO4OGHkp9OPTUdAtsQo4NwvuDjEgGg35pg4vgnabQvr0k+ISVCjWB8NAehbyplAl5+e5ESGmtf03KtSMbQNM/gDHjVd/IMDG72FfcO3QvWLSlSAjk+UVRtGMylnCvGZiUV03N78TtFFKhQaflqyS/T1iCnRp7X0p9KzxNZCs20z38+0iyYAiTfdLaO2oFkQJepJL5J1TURUTWunaihCo0ba8+4sCtaX+V+KMCd+yWcxESSRo6bWPzUR1FLuJ/WsH5cTjCf/rbCbmvbIaNakaj2qOUY30aw82Mt1Ww2/xz6pXXB50htlguTVrd3sROH8OWWRQ5ChWytS7ULTI6tS5Ov3xSLEIsUvP/WamTYHmd980un8WPKqRCjAsz1wLcxtbA0EEMSzJLYXdKBkY2PHQQk8UNpaQb6UeXE+pY57j1I04lqV/7qWEJhmpBubzQBpqWyg4J30mtZvQaI6FJBwWrEKQaRbJcOG+oAEGKIz0imIJgylEzixw== vagrant@puppet" >> /home/vagrant/.ssh/authorized_keys
